<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leadership - Emmanuel Royal Singing Band</title>
    <meta name="description" content="Executive committee and leadership dashboard">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico/favicon.ico">
    <link rel="stylesheet" href="style.css">
    <!-- Enhanced Security Headers as Meta Tags -->
    <meta http-equiv="Content-Security-Policy" 
    content="default-src 'self';
            script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://wfsryzanwgkvfrnaovac.supabase.co;
            style-src 'self' 'unsafe-inline';
            img-src 'self' data: https:;
            font-src 'self';
            connect-src 'self' https://wfsryzanwgkvfrnaovac.supabase.co https://chat.whatsapp.com;
            frame-src 'self' https://calendar.google.com https://*.google.com;
            base-uri 'self';
            form-action 'self';">

    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <img src="images/1000095305.jpg" alt="Emmanuel Royal Singing Band Logo" class="nav-logo round-logo">
                <a href="index.html" class="nav-logo-text">Emmanuel Royal Band</a>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="history.html" class="nav-link">History</a></li>
                <li><a href="members.html" class="nav-link">Members</a></li>
                <li><a href="leadership.html" class="nav-link">Leadership</a></li>
                <li><a href="music.html" class="nav-link">Music</a></li>
                <li><a href="events.html" class="nav-link">Events</a></li>
                <li><a href="member-dashboard.html" class="nav-link">Dashboard</a></li>
                <li><a href="https://chat.whatsapp.com/HutYGDndxcvDaNr8PvArWm" class="nav-link whatsapp-link" target="_blank">WhatsApp</a></li>
            </ul>
        </div>
    </nav>

    <section class="executives">
        <div class="container">
            <h2>Our Executive Committee</h2>
            <p class="section-intro">Meet the dedicated leaders guiding our musical ministry.</p>
            
            <div class="executive-grid">
                <!-- President -->
                <div class="executive-card">
                    <div class="executive-img">
                        <img src="images/514-5147412_default-avatar-png.png" alt="Band President">
                    </div>
                    <div class="executive-info">
                        <h3>Mrs. Naomi Agyapong</h3>
                        <p class="position">President</p>
                        <p class="responsibility">Spiritual guidance and overall leadership</p>
                    </div>    
                </div>
                <!-- vice president -->
                <div class="executive-card">
                    <div class="executive-img">
                        <img src="images/514-5147412_default-avatar-png.png" alt="Band Vice President">
                    </div>
                    <div class="executive-info">
                        <h3>Mrs. Dorothy Anane Frimpong</h3>
                        <p class="position">Vice President</p>
                        <p class="responsibility">Spiritual guidance and overall leadership</p>
                    </div>
                </div>
                <!-- Secretary -->
                <div class="executive-card">
                    <div class="executive-img">
                        <img src="images/514-5147412_default-avatar-png.png" alt="Band Secretary">
                    </div>
                    <div class="executive-info">
                        <h3>Sis. Elizabeth Agyei</h3>
                        <p class="position">Secretary</p>
                        <p class="responsibility">Records and communications</p>
                    </div>
                </div>
                <div class="executive-card">
                    <div class="executive-img">
                        <img src="images/514-5147412_default-avatar-png.png" alt="Band Vice Secretary">
                    </div>
                    <div class="executive-info">
                        <h3>Bro. Horatious Frimpong</h3>
                        <p class="position">Vice Secretary</p>
                        <p class="responsibility">Records and communications</p>
                    </div>
                </div>    
                <!-- Band Master -->
                <div class="executive-card">
                    <div class="executive-img">
                        <img src="images/514-5147412_default-avatar-png.png" alt="Band Master">
                    </div>
                    <div class="executive-info">
                        <h3>Mr. Stephen Acquah</h3>
                        <p class="position">Band Master</p>
                        <p class="responsibility">Directs musical performances, leads rehearsals, and maintains the band's musical quality</p>
                    </div>
                </div>
                <!-- Treasurer -->
                <div class="executive-card">
                    <div class="executive-img">
                        <img src="images/514-5147412_default-avatar-png.png" alt="Treasurer">
                    </div>
                    <div class="executive-info">
                        <h3>Mrs. Sharah Gyawu</h3>
                        <p class="position">Treasurer</p>
                        <p class="responsibility">Manages all band finances, tracks expenses, and handles monetary transactions</p>
                    </div>
                </div>
                <!-- Financial Secretary -->
                <div class="executive-card">
                    <div class="executive-img">
                        <img src="images/514-5147412_default-avatar-png.png" alt="Financial Secretary">
                    </div>
                    <div class="executive-info">
                        <h3>Bro. Horatious Frimpong</h3>
                        <p class="position">Financial Secretary</p>
                        <p class="responsibility">Keeps financial records, prepares budgets, and manages member contributions</p>
                    </div>
                </div>                                        
                <!-- organizer -->
                <div class="executive-card">
                    <div class="executive-img">
                        <img src="images/514-5147412_default-avatar-png.png" alt="Band Organizer">
                    </div>
                    <div class="executive-info">
                        <h3>Mr. Isaac Manu</h3>
                        <p class="position">Organizer</p>
                        <p class="responsibility">Coordinates all band activities, schedules, and ensures everything runs smoothly</p>
                    </div>
                </div>
                <div class="executive-card">
                    <div class="executive-img">
                        <img src="images/514-5147412_default-avatar-png.png" alt="Band Vice Organizer">
                    </div>
                    <div class="executive-info">
                        <h3>Mrs. Esther Boabeng</h3>
                        <p class="position"> Vice Organizer</p>
                        <p class="responsibility">Coordinates all band activities, schedules, and ensures everything runs smoothly</p>
                    </div>
                </div>
                <!-- Chaplin -->
                <div class="executive-card">
                    <div class="executive-img">
                        <img src="images/514-5147412_default-avatar-png.png" alt="Chaplin">
                    </div>
                    <div class="executive-info">
                        <h3>Mrs. Doris Bentum</h3>
                        <p class="position">Chaplin</p>
                        <p class="responsibility">The spiritual leader who guides the band in worship and maintains their Christian foundation</p>
                    </div>
                </div>                          
            </div>
        </div>
    </section>

    <!-- Admin Dashboard Section (Visible only to leaders) -->
    <section id="admin-dashboard" class="admin-dashboard" style="display: none;">
        <div class="container">
            <div class="dashboard-header">
                <h2>Band Leadership Dashboard</h2>
                <p>Manage your band efficiently with these tools</p>
            </div>
            <div class="dashboard-content">
                <!-- Quick Announcements -->
                <div class="dashboard-card">
                    <h3>📢 Quick Announcements</h3>
                    <form id="announcementForm">
                        <div class="form-group">
                            <input type="text" id="announcementTitle" placeholder="Announcement Title" required>
                        </div>
                        <div class="form-group">
                            <textarea id="announcementMessage" placeholder="Important message for members..." rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="isUrgent"> 🚨 Mark as Urgent
                            </label>
                        </div>
                        <button type="submit" class="hero-btn">Post Announcement</button>
                    </form>
                    
                    <div class="recent-announcements">
                        <h4>Recent Announcements</h4>
                        <div id="announcementsList">
                            <!-- Announcements will appear here -->
                        </div>
                    </div>
                </div>

                <!-- Event Management -->
                <div class="dashboard-card">
                    <h3>📅 Event Management</h3>
                    <form id="eventForm">
                        <div class="form-group">
                            <input type="text" id="eventTitle" placeholder="Event Title" required>
                        </div>
                        <div class="form-group">
                            <input type="datetime-local" id="eventDate" required>
                        </div>
                        <div class="form-group">
                            <input type="text" id="eventLocation" placeholder="Location" required>
                        </div>
                        <div class="form-group">
                            <textarea id="eventDescription" placeholder="Event description..." rows="3"></textarea>
                        </div>
                        <button type="submit" class="hero-btn">Add Event</button>
                    </form>

                    <div class="upcoming-events">
                        <h4>Upcoming Events</h4>
                        <div id="eventsList">
                            <!-- Events will appear here -->
                        </div>
                    </div>
                </div>

                <!-- Gallery Management Section -->
                <div class="dashboard-card">
                    <h3>📸 Gallery Management</h3>
                    <p class="admin-note">Manage photos displayed in the history page gallery.</p>
                    
                    <!-- Upload New Photo -->
                    <div class="gallery-upload-form">
                        <h4>Upload New Photo</h4>
                        <form id="galleryUploadForm">
                            <div class="form-group">
                                <input type="file" id="galleryPhotoUpload" accept="image/*" required>
                            </div>
                            <div class="form-group">
                                <textarea id="photoDescription" placeholder="Photo description (optional)" rows="2"></textarea>
                            </div>
                            <button type="submit" class="hero-btn">Upload Photo</button>
                        </form>
                    </div>

                    <!-- Current Gallery Photos -->
                    <div class="gallery-management">
                        <h4>Current Gallery Photos</h4>
                        <div id="galleryManagementList">
                            <!-- Gallery photos will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Music Management Section -->
                <div class="dashboard-card">
                    <h3>🎵 Music Repertoire Management</h3>
                    <p class="admin-note">As Band Master/Super Admin, you can manage the band's song list.</p>
                    
                    <!-- Add New Song Form -->
                    <div class="add-song-form">
                        <h4>Add New Song</h4>
                        <form id="addSongForm">
                            <div class="form-group">
                                <input type="text" id="songTitle" placeholder="Song Title" required>
                            </div>
                            <div class="form-group">
                                <select id="songCategory" required>
                                    <option value="">Select Category</option>
                                    <option value="Methodist Anthems & Traditional Hymns">Methodist Anthems & Traditional Hymns</option>
                                    <option value="Ghanaian Highlife & Contemporary Worship">Ghanaian Highlife & Contemporary Worship</option>
                                    <option value="Choir Specials & Seasonal Songs">Choir Specials & Seasonal Songs</option>
                                    <option value="Local Compositions & Original Songs">Local Compositions & Original Songs</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <select id="songLanguage">
                                    <option value="English">English</option>
                                    <option value="Twi">Twi</option>
                                    <option value="Fante">Fante</option>
                                    <option value="Ewe">Ewe</option>
                                    <option value="Ga">Ga</option>
                                    <option value="Multilingual">Multilingual</option>
                                </select>
                            </div>
                            <button type="submit" class="hero-btn">Add Song to Repertoire</button>
                        </form>
                    </div>

                    <!-- Current Songs List -->
                    <div class="songs-list">
                        <h4>Current Repertoire</h4>
                        <div class="songs-filters">
                            <button class="filter-btn active" data-filter="all">All Songs</button>
                            <button class="filter-btn" data-filter="Methodist Anthems & Traditional Hymns">Anthems</button>
                            <button class="filter-btn" data-filter="Ghanaian Highlife & Contemporary Worship">Highlife</button>
                            <button class="filter-btn" data-filter="Choir Specials & Seasonal Songs">Specials</button>
                            <button class="filter-btn" data-filter="Local Compositions & Original Songs">Originals</button>
                        </div>
                        <div id="songsManagementList">
                            <!-- Songs will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Leader Management Section -->
                <div class="dashboard-card leader-management">
                    <h3>👑 Leader Management</h3>
                    <p class="admin-note">As Super Admin, you can manage who has access to the leadership dashboard.</p>
                    
                    <!-- Add New Leader -->
                    <div class="add-leader-form">
                        <h4>Add New Leader</h4>
                        <form id="manualAddLeaderForm">
                            <div class="form-group">
                                <input type="email" id="newLeaderEmail" placeholder="Leader's email address" required>
                            </div>
                            <div class="form-group">
                                <input type="text" id="newLeaderRole" placeholder="Role (e.g., Music Director)" required>
                            </div>
                            <button type="submit" class="hero-btn">Add Leader</button>
                        </form>
                    </div>

                    <!-- Manual Leader Addition -->
                    <div class="add-leader-form">
                        <h4>➕ Manually Add Leader</h4>
                        <div class="admin-note">
                            <strong>Note:</strong> The member must be registered first. Search by email.
                        </div>
                        
                        <form id="manualAddLeaderForm">
                            <div class="form-group">
                                <input type="email" id="searchMemberEmail" placeholder="Member's registered email" required>
                                <button type="button" class="search-btn" onclick="adminDashboard.searchMember()">Search Member</button>
                            </div>
                            
                            <div id="memberSearchResult" style="display: none;">
                                <div class="member-found">
                                    <h5>Member Found:</h5>
                                    <p id="foundMemberName"></p>
                                    <div class="form-group">
                                        <select id="leaderRoleSelect" required>
                                            <option value="">Select Role</option>
                                            <option value="President">President</option>
                                            <option value="Vice President">Vice President</option>
                                            <option value="Band Master">Band Master</option>
                                            <option value="Secretary">Secretary</option>
                                            <option value="Vice Secretary">Vice Secretary</option>
                                            <option value="Treasurer">Treasurer</option>
                                            <option value="financial Secretary">Financial Secretary</option>
                                            <option value="Organizer">Organizer</option>
                                            <option value="Vice Organizer">Vice Organizer</option>
                                            <option value="Chaplin">Chaplin</option>
                                        </select>
                                    </div>
                                    <button type="submit" class="hero-btn">Add as Leader</button>
                                </div>
                            </div>
                        </form>
                    </div>

                    <!-- Pending Approvals -->
                    <div class="pending-approvals">
                        <h4>⏳ Pending Leader Approvals</h4>
                        <div id="pendingApprovals">
                            <!-- Pending requests will appear here -->
                        </div>
                    </div>

                    <!-- Current Leaders List -->
                    <div class="leaders-list">
                        <h4>Current Leaders</h4>
                        <div id="leadersList">
                            <!-- Leaders will appear here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <p>&copy; <span id="year"></span> Emmanuel Royal Singing Band. All Rights Reserved.</p>
        <p>Methodist Church Ghana Aboaboso</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase-config-enhanced.js"></script>
    <script src="security-utils.js"></script>
    <script src="admin-dashboard.js"></script>
    <script src="script.js"></script>
</body>
</html>